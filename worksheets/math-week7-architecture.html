<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 7 Math - Architecture & Building Math</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; background-color: #f0f8ff; }
        .worksheet-container { background-color: white; padding: 20px; border-radius: 15px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        h1 { color: #2c5aa0; text-align: center; }
        .problem { margin: 20px 0; padding: 15px; border: 2px solid #2c5aa0; border-radius: 10px; background-color: #f8f9fa; }
        .building-card { background: linear-gradient(135deg, #fff3e0, #ffccbc); padding: 20px; border-radius: 15px; margin: 15px 0; border: 3px solid #ff5722; }
        .building-visual { display: flex; justify-content: center; align-items: end; margin: 20px 0; gap: 10px; }
        .building { background: #90a4ae; border: 3px solid #455a64; position: relative; display: flex; flex-direction: column; }
        .floor { background: #b0bec5; border-bottom: 2px solid #455a64; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: bold; }
        .window { width: 15px; height: 15px; background: #ffeb3b; border: 1px solid #f57c00; margin: 2px; }
        .door { width: 20px; height: 30px; background: #8d6e63; border: 2px solid #5d4037; margin: 2px auto; }
        .roof { width: 0; height: 0; border-left: 30px solid transparent; border-right: 30px solid transparent; border-bottom: 25px solid #f44336; margin: 0 auto; }
        .blueprint { background: #e3f2fd; border: 3px solid #1976d2; padding: 15px; margin: 15px 0; border-radius: 10px; position: relative; }
        .grid { display: grid; gap: 2px; margin: 15px 0; }
        .grid-square { width: 30px; height: 30px; border: 1px solid #666; background: #f5f5f5; display: flex; align-items: center; justify-content: center; font-size: 12px; }
        .foundation { background: #795548; }
        .wall { background: #ff9800; }
        .room { background: #e1f5fe; }
        input[type="number"] { padding: 8px; border: 2px solid #2c5aa0; border-radius: 5px; font-size: 16px; width: 100px; }
        button { background-color: #2c5aa0; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-size: 16px; margin: 0 10px; }
        button:hover { background-color: #1e3f7d; }
        .feedback { margin-top: 10px; font-weight: bold; }
        .correct { color: green; }
        .incorrect { color: red; }
        .controls { text-align: center; margin: 20px 0; }
        .progress { text-align: center; margin: 20px 0; font-size: 18px; }
        .stars { text-align: center; font-size: 24px; margin: 20px 0; }
        .intro { background: #e8f5e8; padding: 15px; border-radius: 10px; margin-bottom: 20px; }
        .arch-emoji { font-size: 24px; margin-right: 10px; }
        .construction-tools { display: flex; justify-content: center; gap: 20px; margin: 15px 0; font-size: 36px; }
    </style>
</head>
<body>
    <div class="worksheet-container">
        <h1>üèóÔ∏è Architecture & Building Math üè¢</h1>
        
        <p style="text-align: center; font-size: 18px; color: #2c5aa0; margin-bottom: 20px;" id="personal-greeting">
            Hi there! Let's become young architects and use math to design amazing buildings! You're going to be a master builder! üè†
        </p>
        
        <div class="intro">
            <h3>Math Makes Amazing Buildings!</h3>
            <p>Architects use math every day! They measure, count, calculate areas, and design with shapes and patterns.</p>
            <p><strong>Architecture Math Skills:</strong></p>
            <ul>
                <li><strong>Counting:</strong> How many floors, windows, doors?</li>
                <li><strong>Measuring:</strong> Length, width, height of buildings</li>
                <li><strong>Area:</strong> How much space for rooms?</li>
                <li><strong>Shapes:</strong> Rectangles, triangles, circles in design</li>
            </ul>
            <div class="construction-tools">
                <span>üìê</span>
                <span>üìè</span>
                <span>üî®</span>
            </div>
        </div>
        
        <div class="progress">Progress: <span id="score">0</span>/10</div>
        <div class="stars" id="stars">‚≠ê</div>
        <div id="problems"></div>
        <div class="controls">
            <button onclick="checkAnswers()">Check Answers</button>
            <button onclick="generateProblems()">New Problems</button>
        </div>
    </div>
    <script>
        let currentProblems = [];
        let score = 0;
        
        // Get the selected child's name from URL parameters or localStorage
        function getSelectedChildName() {
            const urlParams = new URLSearchParams(window.location.search);
            let childName = urlParams.get('child');
            
            if (!childName) {
                // Try to get from localStorage if not in URL
                const savedChild = localStorage.getItem('selectedChild');
                if (savedChild) {
                    childName = savedChild;
                }
            }
            
            // Capitalize first letter
            if (childName) {
                return childName.charAt(0).toUpperCase() + childName.slice(1);
            }
            return 'there'; // fallback
        }
        
        // Set personalized greeting
        function setPersonalizedGreeting() {
            const childName = getSelectedChildName();
            const greeting = document.getElementById('personal-greeting');
            greeting.textContent = `Hi ${childName}! Let's become young architects and use math to design amazing buildings! You're going to be a master builder! üè†`;
        }
        
        function createBuilding(floors, windowsPerFloor) {
            let buildingHtml = `<div class="building" style="width: 60px;">`;
            
            // Add roof
            buildingHtml += '<div class="roof"></div>';
            
            // Add floors from top to bottom
            for (let i = floors; i >= 1; i--) {
                buildingHtml += `<div class="floor" style="height: 40px;">Floor ${i}</div>`;
            }
            
            buildingHtml += '</div>';
            return buildingHtml;
        }
        
        function createBlueprint(width, height, rooms) {
            let blueprintHtml = `<div class="blueprint">
                <h5>Building Blueprint (each square = 1 room)</h5>
                <div class="grid" style="grid-template-columns: repeat(${width}, 30px);">`;
            
            for (let i = 0; i < width * height; i++) {
                const hasRoom = rooms.includes(i);
                const cellClass = hasRoom ? 'room' : 'wall';
                const symbol = hasRoom ? 'üè†' : 'üß±';
                blueprintHtml += `<div class="grid-square ${cellClass}">${symbol}</div>`;
            }
            
            blueprintHtml += '</div></div>';
            return blueprintHtml;
        }
        
        function generateProblems() {
            currentProblems = [];
            const problemsDiv = document.getElementById('problems');
            problemsDiv.innerHTML = '';
            
            const problems = [
                {
                    type: "counting-floors",
                    title: "Sanha's Skyscraper Design",
                    description: "Sanha designed a building with 8 floors. Each floor has 6 windows.",
                    visual: createBuilding(3, 6), // Simplified visual
                    question: "How many windows total does her building have? (8 √ó 6)",
                    answer: 48
                },
                {
                    type: "room-area",
                    title: "Sanav's Bedroom Planning",
                    description: "Sanav's bedroom will be 10 feet long and 8 feet wide.",
                    question: "What is the area of his bedroom? (Length √ó Width = 10 √ó 8)",
                    answer: 80
                },
                {
                    type: "blueprint-rooms",
                    title: "Aadhi's House Blueprint",
                    description: "Aadhi's house blueprint shows rooms and walls:",
                    visual: createBlueprint(4, 3, [0, 1, 4, 5, 8, 9]),
                    question: "How many rooms (üè†) are in the blueprint?",
                    answer: 6
                },
                {
                    type: "perimeter",
                    title: "Sai Vittal's Garden Wall",
                    description: "Sai Vittal wants to build a fence around his square garden. Each side is 12 feet long.",
                    question: "How many feet of fence does he need? (Perimeter = 4 √ó 12)",
                    answer: 48
                },
                {
                    type: "stair-counting",
                    title: "Sanvi's Staircase Math",
                    description: "Sanvi's house has 3 floors. There are 15 steps between each floor.",
                    question: "How many total steps to get from the 1st floor to the 3rd floor? (2 sets of stairs √ó 15 steps)",
                    answer: 30
                },
                {
                    type: "window-patterns",
                    title: "Window Pattern Building",
                    description: "A building has this window pattern: Floor 1: 4 windows, Floor 2: 6 windows, Floor 3: 8 windows",
                    question: "Following the pattern, how many windows should Floor 4 have? (+2 each floor)",
                    answer: 10
                },
                {
                    type: "door-planning",
                    title: "Door Width Planning",
                    description: "Each door needs to be 3 feet wide. Sanha's house will have 5 doors.",
                    question: "How many total feet of door width is needed? (5 √ó 3)",
                    answer: 15
                },
                {
                    type: "brick-counting",
                    title: "Brick Wall Mathematics",
                    description: "A wall uses 25 bricks per row and has 8 rows.",
                    question: "How many bricks are needed for the whole wall? (25 √ó 8)",
                    answer: 200
                },
                {
                    type: "height-measuring",
                    title: "Building Height Challenge",
                    description: "Each floor of a building is 12 feet tall. The building has 6 floors.",
                    question: "How tall is the building? (6 √ó 12)",
                    answer: 72
                },
                {
                    type: "total-rooms",
                    title: "Apartment Building Planning",
                    description: "An apartment building has 4 floors. Each floor has 6 apartments.",
                    question: "How many total apartments are in the building? (4 √ó 6)",
                    answer: 24
                }
            ];
            
            problems.forEach((problem, i) => {
                currentProblems.push(problem);
                
                let visualHtml = '';
                if (problem.visual) {
                    visualHtml = `<div style="text-align: center;">${problem.visual}</div>`;
                }
                
                problemsDiv.innerHTML += `
                    <div class='problem'>
                        <h4>Architecture Challenge ${i + 1}</h4>
                        <div class='building-card'>
                            <h4><span class='arch-emoji'>üèóÔ∏è</span>${problem.title}</h4>
                            <p>${problem.description}</p>
                            ${visualHtml}
                            <p><strong>${problem.question}</strong></p>
                        </div>
                        <p><strong>Answer:</strong> <input type='number' id='answer${i}' placeholder='?' min='0' max='1000'> feet, rooms, or items</p>
                        <div class='feedback' id='feedback${i}'></div>
                    </div>
                `;
            });
            
            score = 0;
            updateScore();
        }
        
        function checkAnswers() {
            let correctCount = 0;
            
            currentProblems.forEach((problem, i) => {
                const userAnswer = parseInt(document.getElementById(`answer${i}`).value);
                const feedback = document.getElementById(`feedback${i}`);
                
                if (userAnswer === problem.answer) {
                    feedback.textContent = '‚úÖ Excellent architectural thinking! You\'re building like a pro!';
                    feedback.className = 'feedback correct';
                    correctCount++;
                } else {
                    feedback.textContent = `‚ùå Try again! Answer: ${problem.answer}`;
                    feedback.className = 'feedback incorrect';
                }
            });
            
            score = correctCount;
            updateScore();
        }
        
        function updateScore() {
            document.getElementById('score').textContent = score;
            document.getElementById('stars').textContent = '‚≠ê'.repeat(score);
        }
        
        window.onload = function() {
            setPersonalizedGreeting();
            generateProblems();
        };
    </script>
</body>
</html> 